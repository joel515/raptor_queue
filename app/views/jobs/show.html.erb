<% provide(:title, @job.name) %>
<h4><%= status_label(@job, text: @job.name) %></h4>
<div class="row">
  <div class="col-md-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <strong>Solve Parameters</strong>
      </div>
      <table class="table">
        <thead>
          <tr>
            <th>Solver</th>
            <th>Nodes</th>
            <th>PPN</th>
            <th>Job id</th>
            <th>Torque id</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><%= Job::SOLVERS[@job.config.to_sym] %></td>
            <td><%= @job.nodes %></td>
            <td><%= @job.processors %></td>
            <td><%= @job.id %></td>
            <td><%= @job.pid %></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
        <strong>Files</strong>
      </div>
      <table class="table table-fixed">
        <thead>
          <tr>
            <th class="col-xs-8">Name</th>
            <th class="col-xs-4">Size</th>
          </tr>
        </thead>
        <tbody>
          <%= render 'files', job: @job %>
        </tbody>
      </table>
    </div>
  </div>
</div>
<% if @job.active? || @job.running? %>
  <%= button(@job, :refresh, text: true, size: 'btn-md') %>
<% elsif @job.failed? %>
  <%= button(@job, :stdout,  text: true, size: 'btn-md') %>
<% end %>
<%= button_group(@job, text: true, size: 'btn-md') %>
